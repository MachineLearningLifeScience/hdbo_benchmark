# HDBO Benchmark website

This branch is for the source of the website. 

The "rendered" or "hosted" website is in the `gh-pages` branch which. Do not confuse the two.

### How to run this:

You will need Go, NPM, and Hugo installed on your machine. You can install them from the following links:
- [Go](https://golang.org/dl/)
- [NPM](https://nodejs.org/en/download/)
- [Hugo](https://gohugo.io/getting-started/installing/)

Then run the following commands:

```bash
git clone ...
cd hdbo-benchmark-website
npm install
npm run mod:update
npm run start
```

Sometimes you may need to run `npm run mod:update` or `npm audit fix --force` if you get an error about missing modules.

To run the server locally, do:
```bash
npm run start
```


### How to update the benchmark data?

> The benchmark data is stored in the `csv` folder and is generated by `fetch_data.ipynb` notebook.


### Simple deployment

1) Remove previous publication

```
rm -rf public
mkdir public
```

2) Clone gh-pages branch from the local repo into a repo located within "public":

```
git clone .git --branch gh-pages public
```

3) Generate the website (in the public folder)

```
hugo
```

4) Commit the changes in the clone and push them back to the local gh-pages branch
```
cd public && git add --all && git commit -m "Publishing to gh-pages" && git push origin gh-pages
```

5) Go back to the main repo and push the changes to the master branch

```
cd ..
git push origin website gh-pages 
```